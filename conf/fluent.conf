
# AUTOMATICALLY GENERATED
# DO NOT EDIT THIS FILE DIRECTLY, USE /templates/conf/fluent.conf.erb

@include systemd.conf
@include kubernetes.conf
@include conf.d/*.conf

<match kubernetes.**>
  @type file
  @log_level info
  path /var/log/fluent/kube-pod-log.${$.kubernetes.container_name}.%Y%m.%Y%m%d.${$.kubernetes.container_name}.${$.kubernetes.host}.${$.kubernetes.pod_name}.%Y-%m-%d_%H-%M.log
  <format>
    @type single_value
    message_key log
  </format>
  <buffer time,$.kubernetes.container_name, $.kubernetes.host, $.kubernetes.pod_name>
    @type file
    timekey 60m
    timekey_use_utc true
    timekey_wait 10m
  </buffer>
</match>

<match **>
  @type file
  @log_level info
  path /var/log/fluent/kube-system-log.%Y%m.%Y%m%d.%Y-%m-%d_%H-%M.log
  <buffer>
    timekey 60m
    timekey_use_utc true
    timekey_wait 10m
  </buffer>
</match>



